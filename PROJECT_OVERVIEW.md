# ğŸ“‹ Project Overview: Infidelity Risk Early Warning System

## ğŸ¯ Problem Statement

Perselingkuhan (infidelity) adalah salah satu penyebab utama kegagalan hubungan. Namun, sebagian besar kasus baru terdeteksi **setelah kejadian**, seperti Jule-Daehoon (syedih bgt gw ama Daehoon dan anak2nya ğŸ˜­) ketika kerusakan emosional sudah terjadi. Proyek ini bertujuan untuk membangun **early warning system** yang dapat mendeteksi **pola risiko** sebelum physical infidelity terjadi, dengan fokus pada fase **emotional affair** sebagai indikator awal.

---

## ğŸ§  Research Questions

1. **Faktor apa saja** yang paling berpengaruh terhadap risiko infidelity?
2. Apakah ada **pola kombinasi** antara ketidakpuasan hubungan, akses/kesempatan, dan moral permisif?
3. Bisakah **emotional affair** (curhat ke orang lain, merasa lebih dimengerti orang lain) diprediksi sebagai **early warning**?
4. Bagaimana model AI dapat memberikan **explainability** yang actionable?

---

## ğŸ“Š Dataset & Data Generation

### Sumber Data

- **Dummy dataset** generated by ChatGPT dengan domain knowledge dari penelitian psikologi
- **3000 responden** dengan distribusi realistis
- **8 CSV files** mencakup dimensi berbeda

### Dimensi Data (36+ Features)

#### 1. ğŸ“ `kepuasan_hubungan` (5 fitur)

- `kepuasan_hubungan`: Ordinal (rendah, sedang, tinggi)
- `kualitas_komunikasi`: Ordinal (rendah, sedang, tinggi)
- `merasa_diperhatikan`: Binary (tidak, iya)
- `keintiman_emosional`: Ordinal (rendah, sedang, tinggi)
- `konflik_berulang`: Binary (jarang, sering)

**Insight**: Ini adalah **primary driver** risiko infidelity - semakin rendah kepuasan, semakin tinggi risiko.

#### 2. ğŸ“ `profil_psikologis` (5 fitur)

- `gaya_kelekatan`: Nominal (aman, cemas, menghindar)
- `kebutuhan_validasi`: Ordinal (rendah, sedang, tinggi)
- `kontrol_diri`: Ordinal (rendah, tinggi)
- `impulsif`: Binary (tidak, iya)
- `empati_pasangan`: Ordinal (rendah, tinggi)

**Insight**: Gaya kelekatan "cemas/menghindar" + kontrol diri rendah = vulnerability tinggi.

#### 3. ğŸ“ `akses_dan_kesempatan`(5 fitur)

- `intensitas_dm_lawan_jenis`: Ordinal (rendah, sedang, tinggi)
- `komunikasi_rahasia`: Binary (tidak, iya)
- `lingkungan_kerja_intens`: Binary (tidak, iya)
- `masih_kontak_mantan`: Binary (tidak, iya)
- `hubungan_jarak_jauh`: Binary (tidak, iya)

**Insight**: Kesempatan **bukan** penyebab utama, tapi **amplifier** yang signifikan.

#### 4. ğŸ“ `kedekatan_emosional_lain` (4 fitur) âš ï¸

- `curhat_ke_orang_lain`: Binary (tidak, iya)
- `merasa_lebih_dimengerti_orang_lain`: Binary (tidak, iya)
- `menyembunyikan_interaksi`: Binary (tidak, iya)
- `berbagi_masalah_pribadi_ke_luar`: Binary (tidak, iya)

**Insight**: Ini adalah **fase paling krusial** untuk early warning - emotional affair dimulai dari sini.

#### 5. ğŸ“ `nilai_dan_sikap` (4 fitur)

- `pandangan_tentang_selingkuh`: Binary (salah_total, manusiawi)
- `religiusitas_pribadi`: Ordinal (rendah, tinggi)
- `toleransi_selingkuh`: Ordinal (nol, rendah, tinggi)
- `nilai_kesetiaan`: Binary (lemah, kuat)

**Insight**: Ada **cognitive dissonance** - banyak yang menyatakan "salah total" tapi perilaku tidak konsisten.

#### 6. ğŸ“ `komitmen_hubungan` (5 fitur)

- `status_hubungan`: Binary (pacaran, menikah)
- `lama_hubungan_tahun`: Continuous (integer)
- `punya_anak`: Binary (tidak, iya)
- `rencana_masa_depan_bersama`: Binary (tidak_jelas, jelas)
- `ketergantungan_emosional`: Ordinal (rendah, tinggi)

**Insight**: Status â‰  komitmen - banyak yang menikah/punya anak tapi komitmen lemah.

#### 7. ğŸ“ `pemicu_stres` (4 fitur)

- `stres_pekerjaan`: Ordinal (rendah, tinggi)
- `masalah_ekonomi`: Binary (tidak, iya)
- `konflik_besar_terakhir`: Binary (tidak, iya)
- `konsumsi_alkohol`: Binary (tidak, iya)

**Insight**: Bukan penyebab utama, tapi **katalis** yang mempercepat vulnerability.

#### 8. ğŸ“ `demografi` (5 fitur)

- `usia`: Continuous (18-80)
- `jenis_kelamin`: Binary (wanita, pria)
- `pendidikan_terakhir`: Ordinal (SMA, D3, S1, S2)
- `status_pekerjaan`: Nominal (freelance, wirausaha, karyawan)
- `domisili`: Ordinal (Rural, Suburban, Urban)

**Insight**: Untuk analisis bias dan fairness model.

---

## ğŸ”¬ Methodology

### 1. **Exploratory Data Analysis (EDA)**

- Distribusi univariate untuk semua fitur
- Analisis korelasi antar fitur
- Cross-tabulation untuk categorical variables
- Boxplot & violin plot untuk detect outliers
- Insight ekstraksi untuk domain understanding

### 2. **Data Preprocessing**

- **Label Encoding**: Manual ordinal mapping untuk konsistensi
- **Feature Engineering**: 7 fitur turunan
  - `skor_ketidakpuasan`: Weighted average dari kepuasan, komunikasi, konflik
  - `skor_kesempatan`: Composite score dari akses & opportunity
  - `skor_emosional_infidelity`: Intensitas emotional affair
  - `skor_moral_permisif`: Moral flexibility score
  - `skor_risiko_psikologis`: Psychological vulnerability
  - `skor_komitmen`: Commitment strength
  - `skor_stres`: Overall stress level
- **No Missing Values**: Dataset sudah clean
- **No Scaling**: XGBoost tidak memerlukan normalisasi

### 3. **Labeling Strategy (Rule-Based)**

Target variable: `risiko_selingkuh` (0/1/2)

#### **Fase 0: Aman & Sehat** âœ…

- Skor ketidakpuasan < 1.0
- Skor kesempatan < 0.6
- Tidak ada emotional affair
- Komitmen kuat

#### **Fase 1: Perlu Perhatian** âš ï¸

- Ketidakpuasan tinggi + mulai ada curhat ke luar
- Emotional infidelity score â‰¥ 0.5
- Kesempatan tinggi + komitmen lemah
- Kombinasi 2-3 faktor negatif

#### **Fase 2: Waspada Tinggi** ğŸš¨

- Emotional affair sudah terjadi + kesempatan tinggi
- Moral permisif + kontrol diri rendah + kesempatan tinggi
- Perfect storm: 4+ faktor negatif simultan

**Distribusi Label**:

- Fase 0: ~40-50%
- Fase 1: ~30-40%
- Fase 2: ~10-20%

### 4. **Model Development**

#### Model Selection

- **Algorithm**: XGBoost Classifier
- **Rationale**:
  - Handle non-linear relationships
  - Native support untuk categorical features
  - Excellent performance untuk imbalanced data
  - Built-in feature importance

#### Hyperparameter Tuning

- `RandomizedSearchCV` untuk efisiensi
- Cross-validation 5-fold
- Metrics: Accuracy, Balanced Accuracy, F1-score

#### Training Configuration

- Train-test split: 80/20
- Stratified split untuk maintain class distribution
- Random state untuk reproducibility

### 5. **Model Evaluation**

#### Metrics

- **Confusion Matrix**: Visualisasi true vs predicted
- **Classification Report**: Precision, Recall, F1 per class
- **Balanced Accuracy**: Karena ada class imbalance
- **Learning Curve**: Detect overfitting/underfitting

#### Explainability dengan SHAP

- **SHAP Values**: Kontribusi setiap fitur ke prediksi
- **Feature Importance**: Ranking faktor risiko global
- **Class-Specific SHAP**: Analisis fokus ke kelas 2 (Waspada Tinggi)
- **Individual Prediction Explanation**: Breakdown faktor risiko per user

---

## ğŸ¯ Key Findings

### Top Risk Drivers (SHAP Analysis)

1. **Emotional Affair Indicators** (30-40% importance)

   - Merasa lebih dimengerti orang lain
   - Curhat ke orang lain
   - Menyembunyikan interaksi

2. **Relationship Dissatisfaction** (20-30% importance)

   - Kepuasan hubungan rendah
   - Kualitas komunikasi buruk
   - Konflik berulang

3. **Opportunity Factors** (15-25% importance)

   - Intensitas DM lawan jenis tinggi
   - Komunikasi rahasia
   - Hubungan jarak jauh

4. **Psychological Vulnerability** (10-15% importance)

   - Kontrol diri rendah
   - Impulsif
   - Gaya kelekatan tidak aman

5. **Moral Flexibility** (5-10% importance)
   - Toleransi selingkuh tinggi
   - Pandangan "manusiawi"
   - Nilai kesetiaan lemah

---

## ğŸš€ Deployment

### Streamlit Web Application

- **Interactive Form**: 36 input fields untuk user
- **Real-time Prediction**: Instant risk assessment
- **SHAP Visualization**: Top factors meningkatkan/menurunkan risiko
- **Probability Distribution**: Bar chart 3 fase risiko
- **Actionable Insights**: Breakdown faktor risiko yang bisa diubah

### Model Serialization

- **Format**: Pickle (`.pkl`)
- **Content**: Model object + feature names
- **Size**: ~2-5 MB
- **Loading Time**: <1 second

---

## ğŸ”® Future Improvements

1. **Real Dataset**: Kolaborasi dengan psikolog untuk data riil
2. **Temporal Tracking**: Monitoring perubahan risiko over time
3. **Recommendation Engine**: Saran konkret untuk menurunkan risiko
4. **Multi-language Support**: English + Indonesia
5. **Mobile App**: Flutter/React Native untuk aksesibilitas
6. **A/B Testing**: Bandingkan XGBoost vs LightGBM vs Neural Network

---

## ğŸ“š References

- **Attachment Theory**: Bowlby (1969), Ainsworth (1978)
- **Infidelity Research**: Glass (2003), Blow & Hartnett (2005)
- **Explainable AI**: Lundberg & Lee (2017) - SHAP paper
- **XGBoost**: Chen & Guestrin (2016)

---

## ğŸ¤ Contribution

Proyek ini dikembangkan untuk tujuan pembelajaran dan portfolio. Feedback & suggestions sangat diterima!

**Author**: Damelia  
**GitHub**: [cerdasbersamadamelia](https://github.com/cerdasbersamadamelia)  
**LinkedIn**: [Damelia](https://www.linkedin.com/in/dameliaa/)  
**YouTube**: [CERDAS Bersama Damelia](https://www.youtube.com/@CERDASBersamaDamelia)

---

**Last Updated**: December 29, 2025
